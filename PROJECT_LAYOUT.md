# Sanim Project Layout

This document describes the recommended project layout for Sanim.

## Directory Structure

```
sanim/
├── manim_engine/          # Core manim engine components
│   ├── animation/
│   ├── camera/
│   ├── mobject/
│   └── ... (other manim components)
│
├── animations/            # Reusable custom animations
│   ├── __init__.py
│   ├── custom_animation.py
│   └── special_effects.py
│
├── elements/              # Element types
│   ├── __init__.py
│   ├── base.py            # Base OutputElement class
│   ├── text.py            # Text-based elements
│   ├── media.py           # Image and video elements
│   └── special.py         # Custom element types
│
├── util/                  # Utility functions
│   ├── __init__.py
│   ├── parsing.py         # Input parsing utilities
│   ├── positioning.py     # Element positioning utilities
│   └── rendering.py       # Rendering utilities
│
├── presentations/         # Your presentation files
│   ├── example1/
│   │   ├── example1.txt
│   │   ├── images/
│   │   └── sanim_interactive_AUTOGENERATED.html
│   └── example2/
│       └── ... 
│
├── sanim.py               # Main implementation
├── sanim_refactored.py    # Refactored implementation (eventually replace sanim.py)
├── extract_scene.py       # Entry point script
├── custom_animation.py    # Custom animation classes
│
├── SANIM_README.md        # Main documentation
├── AI_GUIDE.md            # Guide for AI assistants
├── MIGRATION_GUIDE.md     # Guide for migrating to refactored version
└── PROJECT_LAYOUT.md      # This file
```

## Modular Code Organization

The refactored version of Sanim is designed to be modular. In the future, it can be further restructured into separate modules:

### Proposed Module Structure

```python
# elements/base.py
class OutputElement:
    """Base class for all output elements."""
    # ... base implementation

# elements/text.py
from .base import OutputElement

class TitleElement(OutputElement):
    """Element representing a title."""
    # ... implementation

class PlainTextElement(OutputElement):
    """Element representing plain text."""
    # ... implementation

class BulletElement(OutputElement):
    """Element representing a bullet point."""
    # ... implementation

# elements/media.py
from .base import OutputElement

class ImageElement(OutputElement):
    """Element representing an image."""
    # ... implementation

# util/parsing.py
class InputParser:
    """Parses input from a text file into structured elements."""
    # ... implementation

class InputElement:
    """Represents a single element from the input file."""
    # ... implementation

class InputLine:
    """Represents a line from the input file."""
    # ... implementation

# util/rendering.py
class PresentationRenderer:
    """Renders a presentation from InputLines."""
    # ... implementation

class AnimationBuffer:
    """Manages a buffer of animations to be played together."""
    # ... implementation

class ElementPosition:
    """Manages the position of elements in the presentation."""
    # ... implementation
```

## Adding New Elements

When adding new elements, follow this structure:

1. For standard elements: Add to the appropriate module in `elements/`
2. For specialized elements: Add to `elements/special.py`
3. For project-specific elements: Create a new module in `elements/`

Example for adding a code block element:

```python
# In elements/special.py
from .base import OutputElement

class CodeBlockElement(OutputElement):
    """Element representing a code block with syntax highlighting."""
    # ... implementation
```

## Adding New Animations

When adding new animations, follow this structure:

1. For general-purpose animations: Add to `animations/custom_animation.py`
2. For special effects: Add to `animations/special_effects.py`
3. For project-specific animations: Create a new module in `animations/`

Example for adding a glitch effect animation:

```python
# In animations/special_effects.py
from manim import Animation

class GlitchEffect(Animation):
    """Creates a digital glitch effect on a mobject."""
    # ... implementation
```

## Importing Modules

When importing, use absolute imports for clarity:

```python
# Good
from sanim.elements.base import OutputElement
from sanim.util.parsing import InputParser

# Avoid
from ..elements import OutputElement
from ..util import InputParser
```

## Code Style

Follow these style guidelines:

1. Use type hints for all functions and methods
2. Add docstrings to all classes and methods
3. Follow PEP 8 conventions
4. Use descriptive variable and function names
5. Prefer composition over inheritance
6. Add comments for complex logic